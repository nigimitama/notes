Traceback (most recent call last):
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 154, in wrapped
    asyncio.get_running_loop()
RuntimeError: no running event loop

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/nbclient/client.py", line 1319, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 158, in wrapped
    return loop.run_until_complete(inner)
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/nbclient/client.py", line 709, in async_execute
    await self.async_execute_cell(
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/nbclient/client.py", line 1062, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/__w/notes/notes/.venv/lib/python3.10/site-packages/nbclient/client.py", line 918, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
import cv2
import numpy as np

def rotate_image(image: Image) -> np.array:
    image = np.array(image)
    
    # å›žè»¢ã®ä¸­å¿ƒã‚’ç”»åƒã®ä¸­å¿ƒã«è¨­å®š
    (h, w) = image.shape[:2]
    center = (w // 2, h // 2)
    
    # å›žè»¢ã®ãŸã‚ã®è¡Œåˆ—ã‚’ç”Ÿæˆã€‚ã“ã®ä¾‹ã§ã¯ç”»åƒã‚’ä¸­å¿ƒã«90åº¦å›žè»¢
    angle = 2  # å›žè»¢è§’åº¦
    scale = 1.0  # ã‚¹ã‚±ãƒ¼ãƒ«ã¯å¤‰æ›´ã—ãªã„
    rotation_matrix = cv2.getRotationMatrix2D(center, angle, scale)
    
    # ã‚¢ãƒ•ã‚£ãƒ³å¤‰æ›ã‚’é©ç”¨ã—ã¦ç”»åƒã‚’å›žè»¢
    image = cv2.warpAffine(image, rotation_matrix, (w, h))
    return image

image = rotate_image(image)
Image.fromarray(image)
------------------


[0;31m---------------------------------------------------------------------------[0m
[0;31mImportError[0m                               Traceback (most recent call last)
Cell [0;32mIn[2], line 1[0m
[0;32m----> 1[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mcv2[39;00m
[1;32m      2[0m [38;5;28;01mimport[39;00m[38;5;250m [39m[38;5;21;01mnumpy[39;00m[38;5;250m [39m[38;5;28;01mas[39;00m[38;5;250m [39m[38;5;21;01mnp[39;00m
[1;32m      4[0m [38;5;28;01mdef[39;00m[38;5;250m [39m[38;5;21mrotate_image[39m(image: Image) [38;5;241m-[39m[38;5;241m>[39m np[38;5;241m.[39marray:

File [0;32m/__w/notes/notes/.venv/lib/python3.10/site-packages/cv2/__init__.py:181[0m
[1;32m    176[0m             [38;5;28;01mif[39;00m DEBUG: [38;5;28mprint[39m([38;5;124m"[39m[38;5;124mExtra Python code for[39m[38;5;124m"[39m, submodule, [38;5;124m"[39m[38;5;124mis loaded[39m[38;5;124m"[39m)
[1;32m    178[0m     [38;5;28;01mif[39;00m DEBUG: [38;5;28mprint[39m([38;5;124m'[39m[38;5;124mOpenCV loader: DONE[39m[38;5;124m'[39m)
[0;32m--> 181[0m [43mbootstrap[49m[43m([49m[43m)[49m

File [0;32m/__w/notes/notes/.venv/lib/python3.10/site-packages/cv2/__init__.py:153[0m, in [0;36mbootstrap[0;34m()[0m
[1;32m    149[0m [38;5;28;01mif[39;00m DEBUG: [38;5;28mprint[39m([38;5;124m"[39m[38;5;124mRelink everything from native cv2 module to cv2 package[39m[38;5;124m"[39m)
[1;32m    151[0m py_module [38;5;241m=[39m sys[38;5;241m.[39mmodules[38;5;241m.[39mpop([38;5;124m"[39m[38;5;124mcv2[39m[38;5;124m"[39m)
[0;32m--> 153[0m native_module [38;5;241m=[39m [43mimportlib[49m[38;5;241;43m.[39;49m[43mimport_module[49m[43m([49m[38;5;124;43m"[39;49m[38;5;124;43mcv2[39;49m[38;5;124;43m"[39;49m[43m)[49m
[1;32m    155[0m sys[38;5;241m.[39mmodules[[38;5;124m"[39m[38;5;124mcv2[39m[38;5;124m"[39m] [38;5;241m=[39m py_module
[1;32m    156[0m [38;5;28msetattr[39m(py_module, [38;5;124m"[39m[38;5;124m_native[39m[38;5;124m"[39m, native_module)

File [0;32m/usr/local/lib/python3.10/importlib/__init__.py:126[0m, in [0;36mimport_module[0;34m(name, package)[0m
[1;32m    124[0m             [38;5;28;01mbreak[39;00m
[1;32m    125[0m         level [38;5;241m+[39m[38;5;241m=[39m [38;5;241m1[39m
[0;32m--> 126[0m [38;5;28;01mreturn[39;00m [43m_bootstrap[49m[38;5;241;43m.[39;49m[43m_gcd_import[49m[43m([49m[43mname[49m[43m[[49m[43mlevel[49m[43m:[49m[43m][49m[43m,[49m[43m [49m[43mpackage[49m[43m,[49m[43m [49m[43mlevel[49m[43m)[49m

[0;31mImportError[0m: libGL.so.1: cannot open shared object file: No such file or directory

